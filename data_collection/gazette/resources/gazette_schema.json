{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
        "public_entity_id": {
            "description": "...",
            "type": "string"
        },
        "date": {
            "description": "Date of the gazette",
            "type": "string",
            "format": "date"
        },
        "power": {
            "description": "...",
            "type": "string",
            "enum": [
                "executivo",
                "legislativo",
                "executivo_legislativo"
            ]
        },
        "edition_number": {
            "description": "Number of the gazette",
            "type": "string"
        },
        "is_extra_edition": {
            "description": "Determines if the edition of the gazette is extra or not",
            "type": "boolean"
        },
        "act_category": {
            "description": "Category of oficial act",
            "type": "string"
        },
        "publishing_body": {
            "description": "Department responsible for publishing the document",
            "type": "string"
        },
        "document_code": {
            "description": "Code to reference a document",
            "type": "string",
            "maxLength": 1
        },
        "document_page": {
            "description": "Value corresponding to the page of a document",
            "type": "integer"
        },
        "granularity": {
            "description": "...",
            "type": "string",
            "enum": [
                "ato",
                "seção",
                "individual",
                "agregado"
            ]
        },
        "scraped_at":{
            "description": "When the gazette was scraped",
            "type": "string",
            "format": "date-time"
        },
        "file_urls": {
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "file_requests": {
            "type": "array",
            "items": {
                "type": "string"
            }
        },
        "files": {
            "type": "array",
            "minItems": 1,
            "items": {
                "type": "object",
                "properties": {
                    "url": {
                        "type": "string"
                    },
                    "checksum": {
                        "type": "string"
                    },
                    "path": {
                        "type": "string"
                    },                    
                    "status": {
                        "type": "string"
                    }
                }
            }
        }
    },
    "required": [
        "public_entity_id",
        "date",
        "power",
        "edition_number",
        "is_extra_edition",
        "granularity",
        "act_category",
        "publishing_body",
        "document_code",
        "document_page",
        "scraped_at"
    ],
    "anyOf": [
        {
            "required": [
                "file_urls"
            ]
        },
        {
            "required": [
                "file_requests"
            ]
        }
    ]
}
